import redef replace_with_custom_preamble(input_path, output_path=None):    custom_preamble = r"""\documentclass[10pt]{article}\usepackage{ucharclasses}\usepackage{amsmath, amsfonts, amssymb}\usepackage[version=4]{mhchem}\usepackage{stmaryrd}\usepackage{bbold}\usepackage{graphicx}\usepackage[export]{adjustbox}\usepackage{polyglossia}\usepackage{fontspec}\IfFontExistsTF{CMU Serif}  {\newfontfamily\lgcfont{CMU Serif}}  {\IfFontExistsTF{DejaVu Sans}    {\newfontfamily\lgcfont{DejaVu Sans}}    {\newfontfamily\lgcfont{Georgia}}}\setDefaultTransitions{\lgcfont}{}\graphicspath{ {./images/} }"""    with open(input_path, 'r', encoding='utf-8') as f:        content = f.read()    content = re.sub(        r"\\documentclass.*?\\begin{document}",        r"\\begin{document}",        content,        flags=re.DOTALL    )    full_content = custom_preamble + content    if output_path is None:        output_path = input_path    with open(output_path, 'w', encoding='utf-8') as f:        f.write(full_content)    print(f"Replaced Mathpix preamble with custom one in: {output_path}")if __name__ == "__main__":    import sys    if len(sys.argv) not in (2, 3):        print("Usage: python preambula_adder.py input.tex [output.tex]")    else:        input_path = sys.argv[1]        output_path = sys.argv[2] if len(sys.argv) == 3 else None        replace_with_custom_preamble(input_path, output_path)